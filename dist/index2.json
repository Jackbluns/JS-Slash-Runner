{
    "id": "1f7f585a-21b0-40a7-a91f-4daccb9d25d4",
    "scriptName": "选择框",
    "findRegex": "(?:Checkbox_start|```\\n<Checkbox>)([\\s\\S]+?)(?:Checkbox_end|<\\/Checkbox>\\n```)",
    "replaceString": "```html\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Document</title>\n</head>\n\n<body>\n    <style>\n        body {\n            --bc: rgb(255, 255, 255);\n            --bk: rgb(179, 179, 179);\n        }\n\n        .backdiv {\n            background-color: pink;\n            padding: 10px;\n            border-radius: 12px;\n            display: flex;\n            flex-direction: column;\n            gap: 25px;\n            padding-bottom: 30px;\n            box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.5);\n            margin-right: 5px;\n            border: 1px solid #b18597;\n            font-size: 15px;\n            max-height: 100px;\n            overflow-y: auto;\n\n        }\n\n        .message-content {\n            margin-left: 2rem;\n            font-size: 14px;\n            line-height: 1.4;\n            letter-spacing: 0.7px;\n        }\n\n        .clickdiv {\n            font-weight: 600;\n            color: #382b22;\n            text-transform: uppercase;\n            padding: 1em 1em 0.5em 1em;\n            background: #fff0f0;\n            border: 2px solid #b18597;\n            border-radius: 0.75em;\n            -webkit-transform-style: preserve-3d;\n            transform-style: preserve-3d;\n            -webkit-transition: background 150ms cubic-bezier(0, 0, 0.58, 1), -webkit-transform 150ms cubic-bezier(0, 0, 0.58, 1);\n            transition: transform 150ms cubic-bezier(0, 0, 0.58, 1), background 150ms cubic-bezier(0, 0, 0.58, 1), -webkit-transform 150ms cubic-bezier(0, 0, 0.58, 1);\n            display: inline-block;\n            cursor: pointer;\n            outline: none;\n            border: 0;\n            vertical-align: middle;\n            text-decoration: none;\n            font-family: inherit;\n            font-size: 15px;\n            -webkit-tap-highlight-color: transparent;\n        }\n\n        .clickdiv::before {\n            position: absolute;\n            content: '';\n            width: 100%;\n            height: 100%;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: #f9c4d2;\n            border-radius: inherit;\n            -webkit-box-shadow: 0 0 0 2px #b18597, 0 0.425em 0 0 #ffe3e2;\n            box-shadow: 0 0 0 2px #b18597, 0 0.425em 0 0 #ffe3e2;\n            -webkit-transform: translate3d(0, 0.45em, -1em);\n            transform: translate3d(0, 0.45em, -1em);\n            transition: transform 150ms cubic-bezier(0, 0, 0.58, 1), box-shadow 150ms cubic-bezier(0, 0, 0.58, 1), -webkit-transform 150ms cubic-bezier(0, 0, 0.58, 1), -webkit-box-shadow 150ms cubic-bezier(0, 0, 0.58, 1);\n        }\n\n        .clickdiv:hover {\n            background: #ffe9e9;\n            -webkit-transform: translate(0, 0.15em);\n            transform: translate(0, 0.15em);\n        }\n\n        .clickdiv:hover::before {\n            -webkit-box-shadow: 0 0 0 2px #b18597, 0 0.5em 0 0 #ffe3e2;\n            box-shadow: 0 0 0 2px #b18597, 0 0.5em 0 0 #ffe3e2;\n            -webkit-transform: translate3d(0, 0.3em, -1em);\n            transform: translate3d(0, 0.3em, -1em);\n        }\n\n        .clickdiv:active {\n            background: #ffe9e9;\n            -webkit-transform: translate(0em, 0.45em);\n            transform: translate(0em, 0.45em);\n        }\n\n        .clickdiv:active::before {\n            -webkit-box-shadow: 0 0 0 2px #b18597, 0 0 #ffe3e2;\n            box-shadow: 0 0 0 2px #b18597, 0 0 #ffe3e2;\n            -webkit-transform: translate3d(0, 0, -1em);\n            transform: translate3d(0, 0, -1em);\n        }\n\n        .title {\n            font-size: 13px;\n            line-height: 1.4;\n            letter-spacing: 0.7px;\n        }\n    </style>\n    <div class=\"backdiv\" id=\"list\">\n    </div>\n    <!-- disable-default-loading -->\n    <script>\n        let a = 0;\n        let isActiveLocked = false; // 添加激活锁定状态变量\n        \n        // 监听窗口焦点事件\n        window.addEventListener('focus', function() {\n            handleVisibilityChange();\n        });\n        \n        // 监听可见性变化事件\n        document.addEventListener('visibilitychange', function() {\n            if (!document.hidden) {\n                handleVisibilityChange();\n            }\n        });\n        \n        // 处理可见性变化\n        function handleVisibilityChange() {\n            isActiveLocked = true;\n            console.log(\"页面获得焦点或变为可见，激活锁定\");\n            \n            // 1秒后解除锁定\n            setTimeout(function() {\n                isActiveLocked = false;\n                console.log(\"解除激活锁定\");\n            }, 500); // 增加到1000毫秒以确保更可靠\n        }\n        \n        function sleep(ms) {\n            return new Promise(resolve => setTimeout(resolve, ms));\n        }\n        \n        async function divclick(element, event) {\n            // 检查是否处于激活锁定状态\n            if (isActiveLocked) {\n                console.log(\"忽略激活锁定期间的点击\");\n                event.preventDefault(); // 阻止默认行为\n                event.stopPropagation(); // 阻止事件冒泡\n                return false;\n            }\n            \n            if (a == 1) {\n                return;\n            }\n            a = 1;\n            const messageContent = element.querySelector('.message-content');\n            const content = messageContent.textContent.trim();\n            triggerSlash(`/send ${content}|/trigger`);\n            await sleep(2000);\n            a = 0;\n        }\n\n        function RegexContent(content) {\n            const matches = content.matchAll(/(.+?)[:：]\\s*(.+)/gm);\n            if (!matches) {\n                return;\n            }\n            const list = document.getElementById(\"list\");\n            for (const match of matches) {\n                console.log(`匹配到选择:${match[2]}`);\n                list.insertAdjacentHTML('beforeend', `<div class=\"clickdiv\" tabindex=\"1\" onclick=\"divclick(this, event)\">\n            <span class=\"title\"><strong>${match[1]}</strong></span>\n            <hr>\n            <span class=\"message-content\">${match[2]}</span>\n        </div>`);\n            }\n        }\n\n        RegexContent(`$1`);\n    </script>\n</body>\n\n</html>\n```",
    "trimStrings": [],
    "placement": [
        2
    ],
    "disabled": true,
    "markdownOnly": true,
    "promptOnly": false,
    "runOnEdit": true,
    "substituteRegex": 0,
    "minDepth": null,
    "maxDepth": null
}